<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blackjack Quest</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="theme-classic">

  <!-- Header -->
  <header class="site-header">
    <h1 class="site-title">Blackjack Quest</h1>
    <div class="header-controls">
      <button class="icon-btn" id="achievements-btn" title="Achievements">ğŸ†</button>
      <button class="icon-btn" id="leaderboard-btn" title="Leaderboard">ğŸ…</button>
      <button class="icon-btn" id="drill-btn" title="Strategy Drill">ğŸ¯</button>
      <button class="icon-btn" id="daily-btn" title="Daily Challenge">ğŸ“…</button>
      <button class="icon-btn" id="theme-btn" title="Change Theme">&#9680;</button>
      <button class="icon-btn" id="mute-btn" title="Mute (M)">&#128266;</button>
      <button class="icon-btn" id="stats-toggle-btn" title="Stats">&#9782;</button>
      <button class="icon-btn" id="settings-btn" title="Settings">&#9881;</button>
      <button class="icon-btn help-icon-btn" id="help-btn" title="Tutorial / Help">?</button>
    </div>
  </header>

  <!-- Settings Panel -->
  <div class="settings-panel hidden" id="settings-panel">
    <div class="settings-inner">
      <h3>Settings</h3>
      <label class="setting-row">
        <input type="checkbox" id="hint-toggle">
        <span>Strategy Hints</span>
      </label>
      <label class="setting-row">
        <input type="checkbox" id="count-toggle">
        <span>Hi-Lo Card Count <em>(educational only)</em></span>
      </label>
      <label class="setting-row">
        <input type="checkbox" id="practice-toggle">
        <span>Practice Mode <em>(unlimited balance, no slots)</em></span>
      </label>
      <div class="setting-row"><span>Theme</span></div>
      <div class="theme-grid">
        <button class="theme-chip active" data-theme="theme-classic">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#1a4731 50%,#d4af37 50%)"></span>Classic
        </button>
        <button class="theme-chip" data-theme="theme-dark">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#0d0d1a 50%,#7f5af0 50%)"></span>Modern Dark
        </button>
        <button class="theme-chip" data-theme="theme-retro">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#2e1a0e 50%,#e8a020 50%)"></span>Retro
        </button>
        <button class="theme-chip" data-theme="theme-neon">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#08000f 50%,#ff00aa 50%)"></span>Neon Vegas
        </button>
        <button class="theme-chip" data-theme="theme-sunset">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#3d1205 50%,#ff6b35 50%)"></span>Sunset
        </button>
        <button class="theme-chip" data-theme="theme-ice">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#091c2c 50%,#4dd0e1 50%)"></span>Arctic Ice
        </button>
        <button class="theme-chip" data-theme="theme-royal">
          <span class="theme-swatch" style="background:linear-gradient(135deg,#160c2e 50%,#8e24aa 50%)"></span>Royal Purple
        </button>
      </div>
      <button class="close-settings-btn" id="close-settings-btn">Close</button>
    </div>
  </div>

  <!-- Main Table -->
  <main class="table" id="table">

    <!-- Stats Panel (collapsible) -->
    <aside class="stats-panel hidden" id="stats-panel">
      <h3>Session Stats</h3>
      <div class="stat-row"><span>Win Rate</span><strong id="stat-winrate">â€”</strong></div>
      <div class="stat-row"><span>Biggest Win</span><strong id="stat-bigwin">$0</strong></div>
      <div class="stat-row"><span>Streak</span><strong id="stat-streak">0</strong></div>
      <div class="stat-row"><span>Strategy %</span><strong id="stat-strategy">â€”</strong></div>
      <h4>Last 10 Rounds</h4>
      <div class="history-list" id="history-list"></div>
    </aside>

    <!-- Dealer Area -->
    <section class="dealer-area" id="dealer-area">
      <div class="area-label">Dealer <span class="hand-value" id="dealer-value"></span></div>
      <div class="card-row" id="dealer-cards"></div>
    </section>

    <!-- Result Banner -->
    <div class="result-banner hidden" id="result-banner"></div>
    <div class="play-again-cta hidden" id="play-again-cta">â–¶ Deal Again (D) to keep playing</div>
    <div class="daily-badge hidden" id="daily-badge">ğŸ“… Daily Challenge</div>
    <div class="practice-badge hidden" id="practice-badge">ğŸ’¡ Practice Mode</div>

    <!-- Info Bar -->
    <div class="info-bar">
      <div class="info-item">
        <span class="info-label">Balance</span>
        <span class="info-value" id="balance-display">$1,000</span>
      </div>
      <div class="info-item">
        <span class="info-label">Bet</span>
        <span class="info-value" id="bet-display">$0</span>
      </div>
      <div class="info-item" id="round-status-wrap">
        <span class="info-value status-msg" id="round-status">Place your bet to begin</span>
      </div>
    </div>

    <!-- Player Area -->
    <section class="player-area" id="player-area">
      <!-- Split: hand A -->
      <div class="hand-section" id="hand-a-section">
        <div class="area-label">You <span class="hand-value" id="player-value">0</span></div>
        <div class="card-row" id="player-cards"></div>
        <div class="hint-box hidden" id="hint-box-a"></div>
      </div>
      <!-- Split / multi-hand: hand B -->
      <div class="hand-section hidden" id="hand-b-section">
        <div class="area-label">Hand B <span class="hand-value" id="player-value-b">0</span></div>
        <div class="card-row" id="player-cards-b"></div>
        <div class="hint-box hidden" id="hint-box-b"></div>
      </div>
      <!-- Multi-hand: hand C -->
      <div class="hand-section hidden" id="hand-c-section">
        <div class="area-label">Hand C <span class="hand-value" id="player-value-c">0</span></div>
        <div class="card-row" id="player-cards-c"></div>
        <div class="hint-box hidden" id="hint-box-c"></div>
      </div>
    </section>

    <!-- Card Count Display -->
    <div class="count-bar hidden" id="count-bar">
      Hi-Lo Count: <strong id="count-value">0</strong>
      <span class="count-note">(Educational only â€” not for real casinos)</span>
    </div>

    <!-- Insurance Offer -->
    <div class="insurance-bar hidden" id="insurance-bar">
      <span>Dealer shows Ace â€” Insurance?</span>
      <button class="action-btn insurance-yes" id="insurance-yes-btn">Take Insurance</button>
      <button class="action-btn insurance-no" id="insurance-no-btn">No Thanks</button>
    </div>

    <!-- Betting Controls -->
    <div class="betting-controls" id="betting-controls">
      <div class="hand-count-row">
        <span class="hand-count-label">Hands:</span>
        <button class="hand-count-btn active" data-n="1">1</button>
        <button class="hand-count-btn" data-n="2">2</button>
        <button class="hand-count-btn" data-n="3">3</button>
      </div>
      <div class="chip-row">
        <button class="chip" data-amount="5">$5</button>
        <button class="chip" data-amount="10">$10</button>
        <button class="chip" data-amount="25">$25</button>
        <button class="chip" data-amount="50">$50</button>
        <button class="chip" data-amount="100">$100</button>
      </div>
      <div class="bet-adj-row">
        <button class="adj-btn" id="bet-minus">âˆ’</button>
        <span class="bet-big" id="bet-big">$0</span>
        <button class="adj-btn" id="bet-plus">+</button>
      </div>
    </div>

    <!-- Action Controls -->
    <div class="action-controls" id="action-controls">
      <button class="action-btn primary" id="deal-btn" disabled>Deal</button>
      <button class="action-btn" id="clear-bet-btn" disabled>Clear Bet</button>
      <button class="action-btn" id="hit-btn" disabled>Hit (H)</button>
      <button class="action-btn" id="stand-btn" disabled>Stand (S)</button>
      <button class="action-btn" id="double-btn" disabled>Double (D)</button>
      <button class="action-btn" id="split-btn" disabled>Split</button>
      <button class="action-btn action-surrender" id="surrender-btn" disabled>Surrender (U)</button>
    </div>

  </main>

  <!-- Achievements Overlay -->
  <div class="achievements-overlay hidden" id="achievements-overlay">
    <div class="achievements-modal">
      <div class="achievements-header">
        <h3>ğŸ† Trophy Wall</h3>
        <p class="achievements-subtitle" id="achievements-subtitle">0 / 12 unlocked</p>
      </div>
      <div class="achievements-grid" id="achievements-grid"></div>
      <button class="close-settings-btn" id="close-achievements-btn">Close</button>
    </div>
  </div>

  <!-- Daily Challenge Overlay -->
  <div class="daily-overlay hidden" id="daily-overlay">
    <div class="daily-modal">
      <h3>ğŸ“… Daily Challenge</h3>
      <p class="daily-date" id="daily-date-label"></p>
      <div class="daily-record-box" id="daily-record-box"></div>
      <p class="daily-desc">Same deck sequence every day â€” compete against your personal best!</p>
      <div class="daily-actions">
        <button class="action-btn primary" id="daily-start-btn">Start Today's Challenge</button>
        <button class="action-btn" id="daily-close-btn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Leaderboard Overlay -->
  <div class="leaderboard-overlay hidden" id="leaderboard-overlay">
    <div class="leaderboard-modal">
      <div class="lb-header">
        <h3>ğŸ… Daily Challenge Leaderboard</h3>
        <p class="lb-subtitle">Top scores from your Daily Challenge runs</p>
      </div>
      <div id="lb-content"></div>
      <button class="close-settings-btn" id="close-leaderboard-btn">Close</button>
    </div>
  </div>

  <!-- Broke Modal -->
  <div class="broke-overlay hidden" id="broke-overlay">
    <div class="broke-modal">
      <div class="broke-icon">ğŸ’¸</div>
      <h2>Busted!</h2>
      <p>You're out of chips. Ready to try again?</p>
      <button class="action-btn primary" id="broke-reset-btn">Reset to $1,000</button>
    </div>
  </div>

  <!-- Slot Machine Bonus Overlay -->
  <div class="slot-overlay hidden" id="slot-overlay">
    <div class="slot-modal">
      <div class="slot-header">
        <div class="slot-title">ğŸ° Bonus Round!</div>
        <div class="slot-subtitle" id="slot-subtitle">You won! Spin the bonus slots?</div>
      </div>
      <div class="slot-machine">
        <div class="slot-reel"><div class="reel-symbol" id="reel-0">ğŸ°</div></div>
        <div class="slot-separator">|</div>
        <div class="slot-reel"><div class="reel-symbol" id="reel-1">ğŸ°</div></div>
        <div class="slot-separator">|</div>
        <div class="slot-reel"><div class="reel-symbol" id="reel-2">ğŸ°</div></div>
      </div>
      <div class="slot-paytable">
        <span>7ï¸âƒ£7ï¸âƒ£7ï¸âƒ£ = 25Ã— JACKPOT</span>
        <span>ğŸ’ğŸ’ğŸ’ = 12Ã—</span>
        <span>â­â­â­ = 6Ã—</span>
        <span>ğŸ””ğŸ””ğŸ”” = 3Ã—</span>
      </div>
      <!-- Pre-spin: wager info + choose -->
      <div class="slot-pre-spin" id="slot-pre-spin">
        <div class="slot-wager-info" id="slot-wager-info"></div>
        <div class="slot-actions">
          <button class="action-btn primary" id="slot-spin-btn">ğŸ° Spin!</button>
          <button class="action-btn" id="slot-skip-btn">Skip (safe)</button>
        </div>
      </div>
      <!-- Post-spin: result -->
      <div class="slot-result-msg hidden" id="slot-result-msg"></div>
      <button class="action-btn primary slot-collect-btn hidden" id="slot-collect-btn">Collect!</button>
    </div>
  </div>

  <!-- Welcome Overlay (first visit) -->
  <div class="welcome-overlay hidden" id="welcome-overlay">
    <div class="welcome-modal">
      <div class="welcome-icon">ğŸƒ</div>
      <h2>Welcome to Blackjack Quest!</h2>
      <p>New to blackjack? Take the quick tutorial to learn the basics â€” it only takes a minute!</p>
      <div class="welcome-actions">
        <button class="action-btn primary" id="welcome-tutorial-btn">Show me the tutorial</button>
        <button class="action-btn" id="welcome-skip-btn">I know how to play</button>
      </div>
    </div>
  </div>

  <!-- Tutorial Overlay -->
  <div class="tutorial-overlay hidden" id="tutorial-overlay">
    <div class="tutorial-bar">
      <div class="tutorial-progress">
        <div class="tutorial-progress-fill" id="tutorial-progress-fill"></div>
      </div>
      <div class="tutorial-step-label" id="tutorial-step-label">Step 1 of 10</div>
      <div class="tutorial-title" id="tutorial-title"></div>
      <div class="tutorial-text" id="tutorial-text"></div>
      <div class="tutorial-prompt hidden" id="tutorial-prompt"></div>
      <div class="tutorial-actions">
        <button class="action-btn tutorial-skip" id="tutorial-skip-btn">Skip Tutorial</button>
        <button class="action-btn primary hidden" id="tutorial-next-btn">Next â†’</button>
      </div>
    </div>
  </div>

  <!-- Strategy Drill Overlay -->
  <div class="drill-overlay hidden" id="drill-overlay">
    <div class="drill-modal">
      <div class="drill-header">
        <div class="drill-title-row">
          <h3>ğŸ¯ Strategy Drill</h3>
          <div class="drill-score-box">
            <span class="drill-score-num" id="drill-score">â€”</span>
            <span class="drill-streak-badge hidden" id="drill-streak-display"></span>
          </div>
        </div>
        <p class="drill-subtitle">Flashcard training â€” no money, no pressure</p>
      </div>

      <div class="drill-scenario">
        <div class="drill-hand-row">
          <div class="drill-row-label">Dealer shows</div>
          <div class="drill-card-row" id="drill-dealer-card"></div>
        </div>
        <div class="drill-hand-row">
          <div class="drill-row-label">Your hand &nbsp;<span class="hand-value" id="drill-hand-value"></span></div>
          <div class="drill-card-row" id="drill-player-cards"></div>
        </div>
      </div>

      <div class="drill-feedback hidden" id="drill-feedback">
        <div class="drill-verdict" id="drill-verdict"></div>
        <div class="drill-explanation" id="drill-explanation"></div>
      </div>

      <div class="drill-choices" id="drill-choices">
        <button class="action-btn drill-choice-btn" id="drill-hit-btn">Hit (H)</button>
        <button class="action-btn drill-choice-btn" id="drill-stand-btn">Stand (S)</button>
        <button class="action-btn drill-choice-btn" id="drill-double-btn">Double (D)</button>
        <button class="action-btn drill-choice-btn" id="drill-split-btn">Split (P)</button>
      </div>

      <button class="action-btn primary hidden" id="drill-next-btn">Next Hand (N) â†’</button>
      <button class="close-settings-btn" id="drill-close-btn">Exit Drill</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
