<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Readable Quest: Jellyfish Lab</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="app-header">
    <h1 class="app-title">ü™º Readable Quest</h1>
    <button id="jelly-toggle" class="jelly-toggle-btn" title="Pause jellyfish">ü™º</button>
    <nav class="tab-nav">
      <button class="tab-btn" data-tab="both">Both</button>
      <button class="tab-btn" data-tab="explorer">Explorer</button>
      <button class="tab-btn" data-tab="palette">Palette</button>
      <button class="tab-btn active" data-tab="readable">Readable</button>
    </nav>
  </header>

  <main id="main-panels" class="dual-panel tab-readable">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- EXPLORER PANEL                              -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="explorer-panel" class="panel">
      <h2 class="panel-title">Animated Color Explorer</h2>

      <div class="explorer-controls">
        <div class="bg-presets">
          <span class="bg-preset-label">Background</span>
          <button class="bg-preset active" data-bg="#000000" style="background:#000000" title="Black"></button>
          <button class="bg-preset" data-bg="#ffffff" style="background:#ffffff" title="White"></button>
          <button class="bg-preset" data-bg="#b2c9ad" style="background:#b2c9ad" title="Sage Green"></button>
          <button class="bg-preset" data-bg="#aecde0" style="background:#aecde0" title="Baby Blue"></button>
          <button class="bg-preset" data-bg="#f5c2d0" style="background:#f5c2d0" title="Light Pink"></button>
        </div>
        <button id="snap-home-btn" class="snap-home-btn" title="Reset spotlights to starting positions">‚Ü∫ Reset</button>
        <button id="eyedropper-btn" class="action-btn" title="Pick any color from your screen">üñ∞ Pick Color</button>
        <button id="snapshot-btn" class="action-btn" title="Snapshot current color for comparison">üì∏ Snapshot</button>
      </div>

      <div class="canvas-wrapper">
        <canvas id="explorer-canvas"></canvas>
      </div>

      <!-- RGB Sliders -->
      <div class="sliders">
        <div class="slider-row">
          <label class="slider-label">R <span id="r-val">255</span></label>
          <input type="range" id="r-slider" class="slider slider-r" min="0" max="255" value="255">
        </div>
        <div class="slider-row">
          <label class="slider-label">G <span id="g-val">0</span></label>
          <input type="range" id="g-slider" class="slider slider-g" min="0" max="255" value="0">
        </div>
        <div class="slider-row">
          <label class="slider-label">B <span id="b-val">0</span></label>
          <input type="range" id="b-slider" class="slider slider-b" min="0" max="255" value="0">
        </div>
      </div>

      <!-- Color Readouts -->
      <div class="color-readouts">
        <div class="readout-swatch-wrap">
          <div class="readout-swatch" id="readout-swatch"></div>
          <div class="readout-name" id="readout-name">Red</div>
        </div>
        <div class="readout-values">
          <div class="readout" id="hex-readout" title="Click to copy">#FF0000</div>
          <div class="readout" id="rgb-readout" title="Click to copy">rgb(255, 0, 0)</div>
          <div class="readout" id="hsl-readout" title="Click to copy">hsl(0¬∞, 100%, 50%)</div>
          <div class="readout" id="cmyk-readout" title="Click to copy">C:0 M:100 Y:100 K:0</div>
        </div>
      </div>

      <!-- Snapshot Compare -->
      <div id="snapshot-compare" class="snapshot-compare hidden">
        <button class="snapshot-clear-btn" id="snapshot-clear-btn" title="Clear snapshot">‚úï</button>
        <div class="snapshot-col">
          <div class="snapshot-swatch" id="snap-swatch-a"></div>
          <div class="snapshot-hex" id="snap-hex-a"></div>
          <div class="snapshot-name" id="snap-name-a"></div>
          <div class="snapshot-col-label">Snapshot</div>
        </div>
        <div class="snapshot-delta">
          <div class="snapshot-ratio-val" id="snap-ratio"></div>
          <div class="snapshot-ratio-label">contrast</div>
          <div class="snapshot-delta-row" id="snap-delta-h"></div>
          <div class="snapshot-delta-row" id="snap-delta-l"></div>
        </div>
        <div class="snapshot-col">
          <div class="snapshot-swatch" id="snap-swatch-b"></div>
          <div class="snapshot-hex" id="snap-hex-b"></div>
          <div class="snapshot-name" id="snap-name-b"></div>
          <div class="snapshot-col-label">Current</div>
        </div>
      </div>

      <!-- Temperature Badge + Scale -->
      <div class="temperature-row">
        <span id="temp-badge" class="temp-badge"></span>
        <div class="temp-scale">
          <span class="temp-label-cool">Cool</span>
          <div class="temp-scale-bar">
            <div id="temp-marker" class="temp-marker"></div>
          </div>
          <span class="temp-label-warm">Warm</span>
        </div>
      </div>

      <!-- Color Recipe Panel -->
      <details id="recipe-panel" class="recipe-panel">
        <summary>Color Recipe</summary>
        <div class="recipe-content">
          <p id="recipe-desc" class="recipe-desc"></p>
          <div class="ingredient-bar">
            <div id="ing-r" class="ingredient-segment ing-r" title="Red"></div>
            <div id="ing-g" class="ingredient-segment ing-g" title="Green"></div>
            <div id="ing-b" class="ingredient-segment ing-b" title="Blue"></div>
          </div>
          <div class="recipe-formats">
            <div class="recipe-format-block" id="recipe-hex" title="Click to copy"></div>
            <div class="recipe-format-block" id="recipe-rgb" title="Click to copy"></div>
            <div class="recipe-format-block" id="recipe-hsl" title="Click to copy"></div>
            <div class="recipe-format-block" id="recipe-cmyk" title="Click to copy"></div>
          </div>
        </div>
      </details>

      <!-- Color Presets -->
      <details id="color-presets-panel" class="recipe-panel">
        <summary>Color Presets</summary>
        <div class="presets-content" id="color-presets-grid"></div>
      </details>

      <!-- Color Mixer -->
      <details id="color-mixer-panel" class="recipe-panel">
        <summary>Color Mixer</summary>
        <div class="mixer-content">
          <p class="fix-palette-hint">Mix two colors additively (light/screen) or subtractively (pigment/paint).</p>

          <div class="mixer-inputs">
            <!-- Color A -->
            <div class="mixer-input-group">
              <span class="mixer-input-label">Color A</span>
              <div class="mixer-input-row">
                <div class="fix-color-swatch" id="mixer-swatch-a" style="background:#ff0000"></div>
                <input type="color" class="fix-color-picker" id="mixer-picker-a" value="#ff0000">
                <input type="text" class="rd-hex-input" id="mixer-hex-a" value="#FF0000" maxlength="7" spellcheck="false" autocomplete="off">
                <button class="action-btn mixer-use-btn" id="mixer-use-a" title="Use current Explorer color">Use Current</button>
              </div>
            </div>

            <!-- Color B -->
            <div class="mixer-input-group">
              <span class="mixer-input-label">Color B</span>
              <div class="mixer-input-row">
                <div class="fix-color-swatch" id="mixer-swatch-b" style="background:#0000ff"></div>
                <input type="color" class="fix-color-picker" id="mixer-picker-b" value="#0000ff">
                <input type="text" class="rd-hex-input" id="mixer-hex-b" value="#0000FF" maxlength="7" spellcheck="false" autocomplete="off">
                <button class="action-btn mixer-use-btn" id="mixer-use-b" title="Use current Explorer color">Use Current</button>
              </div>
            </div>
          </div>

          <!-- Ratio Slider -->
          <div class="mixer-ratio-row">
            <span class="mixer-ratio-label">A</span>
            <input type="range" id="mixer-ratio" class="slider" min="0" max="100" value="50">
            <span class="mixer-ratio-label">B</span>
            <span id="mixer-ratio-val" class="temp-shift-val">50%</span>
          </div>

          <!-- Results -->
          <div class="mixer-results">
            <div class="mixer-result-row">
              <div class="mixer-result-swatch" id="mixer-result-add-swatch"></div>
              <div class="mixer-result-info">
                <span class="mixer-result-mode">Additive (Light)</span>
                <code class="mixer-result-hex" id="mixer-result-add-hex">#000000</code>
                <span class="mixer-result-name" id="mixer-result-add-name"></span>
              </div>
            </div>
            <div class="mixer-result-row">
              <div class="mixer-result-swatch" id="mixer-result-pig-swatch"></div>
              <div class="mixer-result-info">
                <span class="mixer-result-mode">Subtractive (Pigment)</span>
                <code class="mixer-result-hex" id="mixer-result-pig-hex">#000000</code>
                <span class="mixer-result-name" id="mixer-result-pig-name"></span>
              </div>
            </div>
          </div>
        </div>
      </details>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- PALETTE PANEL                               -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="palette-panel" class="panel">
      <h2 class="panel-title">Palette Generator</h2>

      <!-- Harmony Selector -->
      <div class="harmony-selector">
        <button class="harmony-btn active" data-harmony="complementary">Complementary</button>
        <button class="harmony-btn" data-harmony="analogous">Analogous</button>
        <button class="harmony-btn" data-harmony="triadic">Triadic</button>
        <button class="harmony-btn" data-harmony="split-complementary">Split-Comp</button>
        <button class="harmony-btn" data-harmony="monochromatic">Mono</button>
        <button class="harmony-btn" data-harmony="tetradic">Tetradic</button>
      </div>

      <!-- Temperature Shift -->
      <div class="temp-shift-row" id="temp-shift-row">
        <label class="rd-ctrl-title" for="temp-shift-slider">Temperature Shift</label>
        <div class="temp-shift-controls">
          <span class="temp-shift-label temp-shift-cool">Cool</span>
          <input type="range" id="temp-shift-slider" class="slider" min="-60" max="60" value="0" step="1">
          <span class="temp-shift-label temp-shift-warm">Warm</span>
          <span id="temp-shift-val" class="temp-shift-val">0¬∞</span>
          <button id="temp-shift-reset" class="action-btn" title="Reset shift">‚Ü∫</button>
        </div>
      </div>

      <!-- Palette Actions -->
      <div class="palette-actions">
        <button id="randomize-btn" class="action-btn">‚ü≥ Randomize</button>
        <button id="pin-btn" class="action-btn">üìå Pin Palette</button>
        <button id="palette-from-img-btn" class="action-btn" title="Extract palette from image">üñº From Image</button>
        <input type="file" id="palette-img-input" accept="image/*" style="display:none">
        <button id="clear-locks-btn" class="action-btn" style="display:none">üîì Clear Locks</button>
        <label class="accessible-toggle">
          <input type="checkbox" id="accessible-mode-toggle">
          <span>Accessible Mode</span>
        </label>
        <div class="accessible-bg-wrapper" id="accessible-bg-wrapper">
          <label>BG: <input type="color" id="accessible-bg-color" value="#0f0f14"></label>
        </div>
      </div>

      <!-- Swatches -->
      <div id="swatches-container" class="swatches-container"></div>

      <!-- Palette Score Card -->
      <div id="palette-scorecard" class="palette-scorecard hidden"></div>

      <!-- Contrast Matrix -->
      <div id="contrast-matrix" class="contrast-matrix hidden"></div>

      <!-- Shade / Tint Scale -->
      <div id="shade-scale" class="shade-scale hidden"></div>

      <!-- Color Wheel -->
      <div class="wheel-wrapper">
        <canvas id="color-wheel-canvas" width="180" height="180"></canvas>
      </div>

      <!-- UI Preview -->
      <div class="ui-preview">
        <div class="preview-label">UI Preview</div>
        <div class="preview-content">
          <nav id="preview-nav" class="preview-nav">
            <span class="preview-logo">Brand</span>
            <span class="preview-nav-link">Home</span>
            <span class="preview-nav-link">About</span>
            <span class="preview-nav-link">Work</span>
          </nav>
          <div id="preview-card" class="preview-card">
            <h3 id="preview-card-title" class="preview-card-title">Design System</h3>
            <p id="preview-card-body" class="preview-card-body">Building beautiful interfaces with harmonious color palettes.</p>
            <div class="preview-card-footer">
              <button id="preview-btn" class="preview-btn">Get Started</button>
              <span id="preview-badge" class="preview-badge">New</span>
            </div>
          </div>
          <div class="preview-form">
            <input id="preview-input" class="preview-input" type="text" placeholder="Enter value‚Ä¶" readonly>
          </div>
        </div>
      </div>

      <!-- Pinned Palettes Comparison -->
      <div id="pinned-palettes" class="pinned-palettes hidden">
        <h3 class="section-subtitle">Pinned Palettes</h3>
        <div id="pinned-container" class="pinned-container"></div>
      </div>

      <!-- Saved Palettes -->
      <details id="saved-palettes-panel" class="recipe-panel">
        <summary>Saved Palettes</summary>
        <div class="saved-palettes-content">
          <div class="saved-palette-save-row">
            <input type="text" id="palette-name-input" class="rd-hex-input palette-name-input"
                   placeholder="Palette name‚Ä¶" maxlength="30" spellcheck="false" autocomplete="off">
            <button id="save-palette-btn" class="action-btn">Save</button>
          </div>
          <div id="saved-palettes-list" class="saved-palettes-list"></div>
        </div>
      </details>

      <!-- Gradient Generator -->
      <details id="gradient-panel" class="recipe-panel">
        <summary>Gradient Generator</summary>
        <div class="gradient-content">
          <div class="gradient-type-btns">
            <button class="gradient-type-btn active" data-type="linear">Linear</button>
            <button class="gradient-type-btn" data-type="radial">Radial</button>
            <button class="gradient-type-btn" data-type="conic">Conic</button>
          </div>
          <div class="gradient-stops">
            <div class="gradient-stop-well active" id="grad-stop-a">
              <div class="gradient-stop-swatch" id="grad-swatch-a"></div>
              <span class="gradient-stop-label">Stop A</span>
              <span class="gradient-stop-hex" id="grad-hex-a">#000000</span>
            </div>
            <div class="gradient-stop-arrow">‚Üí</div>
            <div class="gradient-stop-well" id="grad-stop-b">
              <div class="gradient-stop-swatch" id="grad-swatch-b"></div>
              <span class="gradient-stop-label">Stop B</span>
              <span class="gradient-stop-hex" id="grad-hex-b">#ffffff</span>
            </div>
          </div>
          <div class="gradient-mini-swatches" id="grad-mini-swatches"></div>
          <div class="gradient-angle-row" id="grad-angle-row">
            <label class="rd-ctrl-title" for="grad-angle">Angle</label>
            <input type="range" id="grad-angle" class="slider" min="0" max="360" value="135">
            <span id="grad-angle-val" class="temp-shift-val">135¬∞</span>
          </div>
          <div id="grad-preview" class="gradient-preview"></div>
          <div class="gradient-css-row">
            <code id="grad-css-code" class="gradient-css-block"></code>
            <button id="grad-copy-btn" class="action-btn">Copy CSS</button>
          </div>
        </div>
      </details>

      <!-- Fix My Palette -->
      <details id="fix-palette-panel" class="recipe-panel">
        <summary>Fix My Palette</summary>
        <div class="fix-palette-content">
          <p class="fix-palette-hint">Add up to 6 colors and check WCAG contrast between all pairs.</p>
          <div id="fix-img-drop" class="fix-img-drop">
            Drop image here or <label for="fix-img-input" class="fix-img-label">browse</label>
            <input type="file" id="fix-img-input" accept="image/*" style="display:none">
          </div>
          <div class="fix-palette-inputs" id="fix-palette-inputs"></div>
          <div class="fix-palette-toolbar">
            <button id="fix-palette-add-btn" class="action-btn">+ Add Color</button>
            <button id="fix-palette-analyze-btn" class="action-btn">Analyze</button>
            <button id="fix-palette-clear-btn" class="action-btn">Clear</button>
          </div>
          <div id="fix-palette-results" class="fix-palette-results hidden"></div>
        </div>
      </details>

      <!-- Accessibility Section -->
      <div class="accessibility-section">
        <h3 class="section-subtitle">Accessibility</h3>

        <!-- Contrast Checker -->
        <div class="contrast-checker">
          <h4 class="subsection-title">Contrast Checker</h4>
          <div class="contrast-pickers">
            <div class="picker-group">
              <label>Foreground</label>
              <input type="color" id="fg-color" value="#ffffff">
              <span class="picker-hex" id="fg-hex">#ffffff</span>
            </div>
            <div class="picker-group">
              <label>Background</label>
              <input type="color" id="bg-color" value="#0f0f14">
              <span class="picker-hex" id="bg-hex">#0f0f14</span>
            </div>
          </div>
          <div class="contrast-preview" id="contrast-preview">
            <span id="contrast-sample-text">Sample Text Aa</span>
          </div>
          <div class="contrast-result">
            <span class="contrast-ratio-label">WCAG 2 Ratio:</span>
            <span class="contrast-ratio" id="contrast-ratio">‚Äî</span>
            <span class="contrast-ratio-label">APCA (Lc):</span>
            <span class="contrast-ratio" id="apca-ratio">‚Äî</span>
            <div class="contrast-badges" id="contrast-badges"></div>
          </div>
        </div>

        <!-- Color Blindness Simulator -->
        <div class="colorblind-section">
          <h4 class="subsection-title">Color Blindness Simulation</h4>
          <div id="colorblind-rows" class="colorblind-rows"></div>
        </div>
      </div>

    </section>
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- READABLE LAB PANEL                          -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="readable-panel" class="panel">
      <h2 class="panel-title">ü™º Readability Lab</h2>

      <div class="readable-layout">

        <!-- Text Display -->
        <div id="rd-display" class="readable-display">
          <p>The moon jellyfish (<em>Aurelia aurita</em>) drifts through the ocean's midnight blue with a grace that has defied the passage of time itself. Among the oldest animals on Earth, jellyfish have pulsed through the seas for over 500 million years ‚Äî long before dinosaurs walked the land, before fish grew legs, before the first breath was drawn on dry ground.</p>
          <p>A jellyfish has no brain, no heart, no bones, and yet it survives. It thrives. It blooms in great shimmering swarms called <em>smacks</em>, filling entire bays with translucent, pulsing life. Each creature is roughly 95% water ‚Äî a ghostly bell of living tissue propelled by the rhythmic contraction of radial muscles, trailing lace-like tentacles in its wake.</p>
          <p>What does it mean to perceive the world without a central nervous system? The jellyfish senses light, gravity, and chemical signals through a distributed network of nerves ‚Äî awareness without a center, sensation without a self. Perhaps consciousness is not a single room, but an ocean ‚Äî and we have only ever glimpsed the surface.</p>
        </div>

        <!-- Preset Schemes + Actions -->
        <div class="rd-schemes-wrap">
          <div class="rd-schemes-header">
            <h4 class="rd-ctrl-title">Color Schemes</h4>
            <div class="rd-action-row">
              <button id="rd-swap-btn" class="action-btn" title="Swap background and text colors">‚áÑ Swap</button>
              <button id="rd-auto-btn" class="action-btn" title="Auto-adjust text for WCAG AA (4.5:1)">‚úì Auto AA</button>
              <button id="rd-auto-aaa-btn" class="action-btn" title="Auto-adjust text for WCAG AAA (7:1)">‚úì Auto AAA</button>
              <button id="rd-custom-text-btn" class="action-btn" title="Toggle custom text input">‚úè Custom Text</button>
            </div>
          </div>
          <button id="rd-presets-btn" class="action-btn">üé® Preset Schemes</button>
        </div>

        <!-- Controls -->
        <div class="readable-controls">

          <!-- Background Color -->
          <div class="rd-ctrl-group">
            <h4 class="rd-ctrl-title">Background Color</h4>
            <div class="sliders">
              <div class="slider-row">
                <label class="slider-label">R <span id="rd-bg-rv">4</span></label>
                <input type="range" id="rd-bg-r" class="slider slider-r" min="0" max="255" value="4">
              </div>
              <div class="slider-row">
                <label class="slider-label">G <span id="rd-bg-gv">13</span></label>
                <input type="range" id="rd-bg-g" class="slider slider-g" min="0" max="255" value="13">
              </div>
              <div class="slider-row">
                <label class="slider-label">B <span id="rd-bg-bv">30</span></label>
                <input type="range" id="rd-bg-b" class="slider slider-b" min="0" max="255" value="30">
              </div>
            </div>
            <div class="rd-swatch-row">
              <div id="rd-bg-swatch" class="rd-mini-swatch"></div>
              <input type="text" id="rd-bg-hex-input" class="rd-hex-input" value="#040D1E" maxlength="7" spellcheck="false" autocomplete="off" placeholder="#RRGGBB">
            </div>
          </div>

          <!-- Text Color -->
          <div class="rd-ctrl-group">
            <h4 class="rd-ctrl-title">Text Color</h4>
            <div class="sliders">
              <div class="slider-row">
                <label class="slider-label">R <span id="rd-txt-rv">200</span></label>
                <input type="range" id="rd-txt-r" class="slider slider-r" min="0" max="255" value="200">
              </div>
              <div class="slider-row">
                <label class="slider-label">G <span id="rd-txt-gv">232</span></label>
                <input type="range" id="rd-txt-g" class="slider slider-g" min="0" max="255" value="232">
              </div>
              <div class="slider-row">
                <label class="slider-label">B <span id="rd-txt-bv">255</span></label>
                <input type="range" id="rd-txt-b" class="slider slider-b" min="0" max="255" value="255">
              </div>
            </div>
            <div class="rd-swatch-row">
              <div id="rd-txt-swatch" class="rd-mini-swatch"></div>
              <input type="text" id="rd-txt-hex-input" class="rd-hex-input" value="#C8E8FF" maxlength="7" spellcheck="false" autocomplete="off" placeholder="#RRGGBB">
            </div>
          </div>

          <!-- Size + Vision -->
          <div class="rd-ctrl-group">
            <h4 class="rd-ctrl-title">Text Size</h4>
            <div class="slider-row">
              <input type="range" id="rd-font-size" class="slider" min="12" max="40" value="18" style="flex:1">
              <span id="rd-font-size-v" class="rd-font-size-val">18px</span>
            </div>

            <h4 class="rd-ctrl-title" style="margin-top:0.75rem">Font Family</h4>
            <div class="rd-font-btns" id="rd-font-btns">
              <button class="rd-font-btn active" data-font="system-ui,-apple-system,sans-serif" data-label="Sans">Sans</button>
              <button class="rd-font-btn" data-font="Georgia,'Times New Roman',serif" data-label="Serif">Serif</button>
              <button class="rd-font-btn" data-font="'Courier New',Courier,monospace" data-label="Mono">Mono</button>
              <button class="rd-font-btn" data-font="cursive" data-label="Cursive">Cursive</button>
            </div>

            <h4 class="rd-ctrl-title" style="margin-top:0.75rem">Vision Type</h4>
            <div class="vision-radios" id="rd-vision-radios">
              <label><input type="radio" name="rd-vision" value="normal" checked> Normal</label>
              <label><input type="radio" name="rd-vision" value="protanopia"> Protanopia</label>
              <label><input type="radio" name="rd-vision" value="deuteranopia"> Deuteranopia</label>
              <label><input type="radio" name="rd-vision" value="tritanopia"> Tritanopia</label>
              <label><input type="radio" name="rd-vision" value="monochromacy"> Monochromacy</label>
            </div>
          </div>
        </div>

        <!-- Text Color Suggestions (harmony-based) -->
        <div class="rd-suggestions-wrap">
          <h4 class="rd-ctrl-title">Text Color Suggestions <span class="rd-suggestions-hint">based on background harmony</span></h4>
          <div class="rd-suggestions-row" id="rd-suggestions-row"></div>
        </div>

        <!-- Vision Comparison -->
        <div class="vision-comparison">
          <h4 class="rd-ctrl-title">Vision Comparison</h4>
          <div class="vision-grid" id="rd-vision-grid"></div>
        </div>

        <!-- Stats -->
        <div class="readable-stats">
          <div class="rd-stat rd-stat-bg">
            <span class="rd-stat-label">Luminosity (Background)</span>
            <span class="rd-stat-value" id="rd-lum-bg">‚Äî</span>
          </div>
          <div class="rd-stat rd-stat-txt">
            <span class="rd-stat-label">Luminosity (Text)</span>
            <span class="rd-stat-value" id="rd-lum-txt">‚Äî</span>
          </div>
          <div class="rd-stat rd-stat-ratio">
            <span class="rd-stat-label">Contrast Ratio</span>
            <span class="rd-stat-value" id="rd-contrast">‚Äî</span>
          </div>
          <div class="rd-stat rd-stat-wcag">
            <span class="rd-stat-label">WCAG Grade</span>
            <span class="rd-stat-value" id="rd-wcag">‚Äî</span>
          </div>
          <div class="rd-stat rd-stat-apca">
            <span class="rd-stat-label">APCA (Lc)</span>
            <span class="rd-stat-value" id="rd-apca">‚Äî</span>
          </div>
          <div class="rd-stat rd-stat-font">
            <span class="rd-stat-label">Font Size Class</span>
            <span class="rd-stat-value" id="rd-font-warn">‚Äî</span>
          </div>
        </div>

      </div>
    </section>

  </main>

  <!-- Color Scheme Presets Popup -->
  <div id="schemes-popup-overlay" class="schemes-popup-overlay">
    <div class="schemes-popup" role="dialog" aria-modal="true" aria-label="Preset Color Schemes">
      <div class="schemes-popup-header">
        <span class="schemes-popup-title">üé® Preset Color Schemes</span>
        <button id="schemes-popup-close" class="schemes-popup-close" aria-label="Close">‚úï</button>
      </div>
      <div class="schemes-popup-grid" id="schemes-popup-grid"></div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast" aria-live="polite" role="status"></div>

  <canvas id="img-extract-canvas" style="display:none" width="100" height="100"></canvas>
  <script src="color-utils.js"></script>
  <script src="explorer.js"></script>
  <script src="palette.js"></script>
  <script src="accessibility.js"></script>
  <script src="main.js"></script>
</body>
</html>
